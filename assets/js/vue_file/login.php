<script>
	// This is a global mixin, it is applied to every vue instance
	
	Vue.mixin({
		data: function() {
			return {
				csrf_token1: '<?php echo $_SESSION['csrf_token1'] = bin2hex(random_bytes(32)); ?>',

			}
		}
	})


var login='\n\n\t<div class="container-fluid">\n\t<div class="row justify-content-xl-center justify-content-md-center _background ">\n\t<div class="col-12 col-md-9 col-xl-6 align-self-md-center ">\n\t<div class="container margin_">\n\t<div class="row py-4 ">\n\n\n\t<p class="text-dark h4" id="login_id">\n\tWelcome Back! Please login \n\t<br>\n\n\t<span class="text-danger">\n\t{{ login_status }}\n\t</span>\n\t</p>\n\t</div>\n\n\t<div class="row justify-content-xl-center bg-white py-5 mb-5">\n\n\t<div class="col-12 col-xl-6 ">\n\n\t<div class="form-group">\n\t<label for="exampleInputEmail1" ><small id="idExampleInputEmail1Small">Email address*\n\n\t<span v-show="email_validity == \'valid\'" class="text-success"> {{ email_validity }} </span>\n\t<span v-show="email_validity == \'invalid\'" class="text-danger"> {{ email_validity }}  </span>\n\n\t</small>\n\t<br>\n\n\n\n\t</label>\n\t<input @keyup="onChangeValidity(\'email\')" v-model=\'email\' type="text" class="form-control rounded-0" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email"\n\tvalue=""\n\t>\n\t</div>\n\t<div class="form-group">\n\t<label for="exampleInputPassword1"><small>Password*\n\n\t<span v-show="password_validity == \'valid\'" class="text-success"> {{ password_validity }} </span>\n\t<span v-show="password_validity == \'invalid\'" class="text-danger"> {{ password_validity }}, min 6 chars </span>\n\t\n\n\n\t</small>\n\t<br>\n\n\n\n\t</label>\n\t<input  @keyup="onChangeValidity(\'password\')"  @keyup.enter="submit()" name="password" v-model=\'password\' type="password" class="form-control rounded-0" id="exampleInputPassword1" placeholder="Password"\n\tvalue=""\n\n\t>\n\t<p class="text-right text-danger">\n\t<small><a v-bind:href="address.forgotPage">Forgot password?</a></small>\n\t</p>\n\t</div>\n\n\t</div>\n\t<div class="col-12 col-xl-5 align-self-xl-center">\n\t<v-btn tile block :loading="loading" color="success" @click="submit()" class="">Log In</v-btn>\n\n\t<p class="text-danger h5 mt-2"><i>Not a member yet?</i></p>\n\n\t<a v-bind:href="address.registationPage"><button type="button" class="btn btn-primary rounded-0 w-100 py-2">Register Here</button></a>\n\n\t</div>\n\n\n\t</div>\n\t</div>\n\t</div>\n\t</div>\n\n\t\n\n\t<v-row justify="center">\n\n\n\t<v-dialog\n\tv-model="dialog"\n\tmax-width="290"\n\t>\n\t<v-card>\n\t<v-card-title class="headline">Status</v-card-title>\n\n\t<v-card-text class="black--text">\n\t{{ status_text }}\n\t</v-card-text>\n\n\t<v-card-actions>\n\t<v-spacer></v-spacer>\n\n\n\n\t<v-btn\n\tcolor="green darken-1"\n\ttext\n\t@click="dialog = false"\n\t>\n\tOkay\n\t</v-btn>\n\t</v-card-actions>\n\t</v-card>\n\t</v-dialog>\n\t</v-row>\n\n\n\n\n\n\t</div>';Vue.component("login",{template:login,data:()=>({loading:!1,dialog:!1,status_text:"",email:"",password:"",email_validity:"",password_validity:"",login_status:""}),methods:{submit:function(){this.loading=!0,"valid"==this.email_validity&&"valid"==this.password_validity?axios.post(this.model.modelLogin,{email:this.email,password:this.password,csrf_token1:this.csrf_token1}).then(function(t){this.loading=!1,"YES_USER"==t.data||"YES_ADMIN"==t.data?window.location.href=this.address.profilePage:this.login_status="email/password doesnt match"}.bind(this)).catch(function(t){this.loading=!1}.bind(this)):(this.loading=!1,this.status_text="invalid field detected",this.dialog=!0)},onChangeValidity(t){if("email"==t){var n=/^[a-zA-Z]{1}[a-zA-Z1-9._]{3,15}@[a-zA-Z]{1}[a-zA-Z1-9]{3,15}\.[a-zA-Z]{2,10}(\.[a-zA-Z]{2})*$/g.test(this.email);this.email_validity=0==n?"invalid":"valid"}else if("password"==t){n=/[\S]{6,}/g.test(this.password);this.password_validity=0==n?"invalid":"valid"}}},created(){},updated(){}});login=new Vue({el:"#app",vuetify:new Vuetify,data:{},methods:{},beforeCreate(){},created(){},beforeMount(){},mounted(){},beforeUpdated(){},updated(){}});


</script>